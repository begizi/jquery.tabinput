!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){"use strict";function i(i,n){this.$input=t(i),this.inputList=[],this.options=t.extend(!0,{},this.options,this.defaults,n),this.buildContainer(),this.processFormat(),this.buildInputList(),this.setInputs(this.$input.val()),this.$input.hide().after(this.$container)}i.prototype={constructor:i,defaults:{format:"ABC-DEF-GHI",seperator:"-",type:"text",replace:/[^a-zA-Z0-9]/g,templates:{inputContainer:'<div class="tabinput"></div>',inputs:'<input type="text" class="tabinput-input" />',seperator:'<span class="tabinput-seperator"></span>'}},buildContainer:function(){var i=this;i.$container=t(i.options.templates.inputContainer),i.$container.addClass(i.$input.attr("class")),i.$container.on("click",function(n){var s=t(n.target);s.is("input")||i.$container.find("input:first").focus().select()})},processFormat:function(){this.inputBlocks=this.options.format.split(this.options.seperator),this.numInputs=this.inputBlocks.length},buildInputList:function(){var t=this;this.inputList=this.inputBlocks.map(function(i,n){var s=t.buildInput(i.length);return t.$container.append(s),n!==t.numInputs-1&&t.$container.append(t.buildSeperator()),s})},buildInput:function(i){var n=this,s=t(this.options.templates.inputs);return s.attr("size",i),s.attr("maxlength",i),s.attr("type",n.options.type),"number"===n.options.type&&(s.attr("min",0),s.attr("max",new Array(i+1).join("9"))),s.on("click",function(i){var n=t(i.target);n.focus().select()}),s.on("input",function(t){/^(9|13|16|27|37|38|39|40)$/.test(t.which)||(n.options.replace&&(this.value=this.value.replace(n.options.replace,"")),s.val().length===i&&s.nextAll("input").first().focus().select(),n.pushVal())}),s},buildSeperator:function(){var i=t(this.options.templates.seperator);return i.text(this.options.seperator),i},setInputs:function(t){var i=t.split(this.options.seperator);this.inputList.forEach(function(t,n){t.val(i[n])}),this.$input.val(t)},pushVal:function(){var t=this.inputList.map(function(t){return t.val()});this.$input.val(t.join(this.options.seperator),!0)}},t.fn.tabinput=function(n){return this.each(function(){var s=t(this),e=s.data("tabinput"),o="object"==typeof n&&n;e||(e=new i(this,o),s.data("tabinput",e))})}});